#include "tcmp441.h"

#include <stdbool.h>
#include <stdint.h>
#include "led.h"
#include "nordic_common.h"
#include "softdevice_handler.h"
#include "nrf_drv_spi.h"
#include "nrf_delay.h"
#include "app_gpiote.h"
#include "app_util_platform.h"
#include "math.h"
#include <string.h>
#include "board.h"

//qrcode + text
#include "font8x8_basic.h"
#include "qrencode.h"

int LED0 = 18;
int LED1 = 19;
int LED2 = 20;

int nTC_EN   = 24; // B3 on Atum Breakout
int nTC_BUSY = 23; // B4 on Atum Breakout
int nTC_CS   = 22; // B5 on Atum Breakout

static void wait_for_not_busy () {
    uint8_t found_busy_low = 0;
    led_on(LED2);

    volatile uint32_t count = 0;

    while (1) {
        uint8_t pin = nrf_gpio_pin_read(nTC_BUSY);
        if (found_busy_low && pin) {
            break;
        }
        if (pin == 0) {
            found_busy_low = 1;
        }

        if(count > 1000000)
        {
            break;
        }
        count++;
    }
    led_off(LED2);

    // Then wait a little longer so we don't violate the T_NS time.
    nrf_delay_us(5);
}

static nrf_drv_spi_t _spi = NRF_DRV_SPI_INSTANCE(SPI_INSTANCE);

static void spi_init () {
    uint32_t err;

    nrf_drv_spi_config_t spi_config = NRF_DRV_SPI_DEFAULT_CONFIG(SPI_INSTANCE);
    // Datasheet says we can do 3 MHz, but 4 also seems to work.
    spi_config.frequency = NRF_DRV_SPI_FREQ_4M;
    // We do need CS pin
    spi_config.ss_pin = nTC_CS;
    // Datasheet claims we need CPOL=1 CPHA=1.
    // However, I did not get that to work. MODE 2 does seem to work.
    spi_config.mode = NRF_DRV_SPI_MODE_2;

    // We want blocking mode
    err = nrf_drv_spi_init(&_spi, &spi_config, NULL);
    APP_ERROR_CHECK(err);

    //check and set the correct CS polarity
    nrf_delay_ms(10);
    uint8_t tx[6] = {0x30, 0x01, 0x01, 0x00, 0x00, 0x00};
    uint8_t rx[28] = {0};

    //write
    nrf_drv_spi_transfer(&_spi, tx, 4, NULL, 0);
    wait_for_not_busy();

    //read
    nrf_drv_spi_transfer(&_spi, NULL, 0, rx, 28);
    nrf_delay_ms(1);

    
    char version0[] = "MpicoSys TC-P441-230_v1.0";

    if(strcmp(version0, rx) != 0)
    {
        //switch it to version 1
        //uninit
        nrf_drv_spi_uninit(&_spi);

        nrf_drv_spi_config_t spi_config = NRF_DRV_SPI_DEFAULT_CONFIG(SPI_INSTANCE);
        // Datasheet says we can do 3 MHz, but 4 also seems to work.
        spi_config.frequency = NRF_DRV_SPI_FREQ_4M;
        // We do need CS pin
        spi_config.ss_pin = nTC_CS;
        // Datasheet claims we need CPOL=1 CPHA=1.
        // However, I did not get that to work. MODE 2 does seem to work.
        spi_config.mode = NRF_DRV_SPI_MODE_0;

        // We want blocking mode
        err = nrf_drv_spi_init(&_spi, &spi_config, NULL);
        APP_ERROR_CHECK(err);
    }
}

uint8_t screen[15000] = {
255,253,255,255,255,255,255,255,251,127,255,255,127,255,255,253,0,0,9,127,255,127,255,111,127,127,247,191,255,255,255,255,255,255,255,255,255,255,255,191,255,192,0,0,0,0,0,0,0,0,
255,183,175,91,250,181,106,170,173,182,247,251,171,118,255,190,170,74,164,55,245,213,117,181,213,213,93,106,255,255,251,182,219,109,182,182,182,239,189,245,111,128,0,0,0,0,0,0,0,0,
253,253,255,255,111,255,255,255,238,255,127,190,223,223,187,253,0,0,18,253,190,182,223,251,110,190,239,219,127,255,111,255,254,254,255,255,239,186,235,111,253,128,0,0,0,0,0,0,0,0,
255,183,86,175,250,214,182,182,181,91,237,239,235,123,255,221,42,149,73,55,235,219,183,93,181,213,245,118,191,253,254,213,171,183,213,170,189,239,189,187,183,192,0,0,0,0,0,0,0,0,
251,254,255,251,223,255,239,255,255,190,191,255,119,254,239,125,0,32,18,94,253,125,221,246,222,251,95,223,223,255,255,255,255,253,255,255,247,125,107,110,255,192,0,0,0,0,0,0,0,0,
255,123,215,190,234,181,189,213,213,91,250,253,218,183,191,237,82,20,137,63,175,171,107,127,107,87,254,250,239,247,237,221,118,175,109,109,189,175,254,219,221,192,0,0,0,0,0,0,0,0,
247,239,127,247,191,255,247,127,127,239,191,255,247,253,253,253,0,128,68,181,245,118,221,173,246,221,87,223,187,255,255,255,223,251,191,251,239,250,171,190,247,224,0,0,0,0,0,0,0,0,
253,255,214,190,238,222,222,237,212,182,221,119,122,175,183,221,36,18,33,63,95,187,119,119,187,182,250,247,247,255,190,237,251,110,246,174,186,175,246,235,191,96,0,0,0,0,0,0,0,0,
247,181,127,239,251,247,187,191,123,175,247,191,222,254,255,250,0,64,136,159,245,110,218,218,238,219,87,93,109,255,251,255,111,187,255,255,247,250,173,189,237,224,0,0,0,0,0,0,0,0,
255,255,215,187,95,189,255,245,222,235,111,127,251,87,221,185,73,10,37,85,191,219,183,183,191,109,221,247,223,255,255,191,253,239,86,218,222,175,251,107,127,240,0,0,0,0,0,0,0,0,
238,215,123,255,246,239,182,222,235,91,255,174,255,189,255,244,0,0,136,95,234,237,109,109,109,246,182,173,117,255,255,245,183,125,255,247,251,250,174,223,219,176,0,0,0,0,0,0,0,0,
251,251,215,182,191,187,127,107,93,181,86,255,218,215,111,180,144,82,33,47,127,119,187,222,247,127,219,223,187,255,125,223,255,215,118,190,222,223,247,181,127,248,0,0,0,0,0,0,0,0,
239,174,255,255,214,255,213,255,255,237,255,203,255,239,254,241,2,0,136,151,219,173,221,117,173,173,237,117,109,247,247,255,219,127,223,235,247,118,186,239,214,240,0,0,0,0,0,0,0,0,
255,247,171,186,255,214,191,191,255,250,214,247,191,118,219,232,32,136,34,78,254,251,107,174,246,246,190,219,219,255,255,251,127,245,117,190,221,221,223,90,255,216,0,0,0,0,0,0,0,0,
237,90,247,223,182,253,247,254,235,119,127,187,237,219,255,209,4,2,132,175,215,174,222,247,91,91,215,173,109,255,255,191,251,95,223,119,251,119,106,255,182,252,0,0,0,0,0,0,0,0,
255,247,189,253,255,183,254,251,254,221,181,253,255,253,255,224,32,80,16,87,125,251,117,173,237,237,122,247,183,254,255,253,239,251,125,253,111,221,255,170,255,248,0,0,0,0,0,0,0,0,
215,91,235,95,90,239,191,239,187,235,111,214,239,107,110,201,2,4,69,43,247,93,175,118,182,183,173,186,219,239,238,247,191,239,239,175,253,247,85,247,171,110,0,0,0,0,0,0,0,0,
255,215,127,235,247,190,251,191,255,126,253,253,125,253,255,192,32,16,16,151,223,247,250,219,219,218,214,215,127,255,255,255,253,125,123,251,111,93,254,173,255,252,0,0,0,0,0,0,0,0,
215,127,181,254,222,251,255,255,109,223,183,111,127,246,191,169,4,130,66,75,250,186,175,182,189,111,123,109,171,255,191,255,247,239,221,111,219,247,85,255,90,222,0,0,0,0,0,0,0,0,
255,214,251,239,247,111,221,187,255,117,221,251,191,191,123,192,64,16,8,85,111,239,218,221,235,181,174,218,254,255,246,221,223,253,247,253,190,189,255,85,255,254,0,0,0,0,0,0,0,0,
221,127,127,246,189,255,255,255,255,254,255,110,219,253,223,169,9,4,33,41,251,122,237,183,93,222,245,239,87,255,255,255,255,119,93,175,247,239,170,239,107,122,0,0,0,0,0,0,0,0,
247,237,181,187,238,190,246,219,109,175,87,251,191,239,127,128,0,72,132,69,175,223,119,122,238,181,175,90,255,254,239,255,125,255,255,250,221,186,255,123,191,223,0,0,0,0,0,0,0,0,
191,254,255,251,187,255,223,255,255,251,253,111,214,255,223,168,73,0,16,42,253,117,221,215,181,219,122,237,187,255,253,183,239,221,181,111,119,239,213,173,237,254,0,0,0,0,0,0,0,0,
238,219,245,238,253,239,127,111,219,126,175,254,223,221,237,194,0,36,65,20,95,223,118,189,110,238,215,119,127,255,247,253,255,255,255,251,254,251,126,247,127,111,0,0,0,0,0,0,0,0,
191,254,255,253,215,125,253,251,127,219,251,127,235,255,247,160,73,1,4,75,117,247,219,235,187,91,187,173,239,251,255,247,251,118,213,174,215,95,215,93,171,253,0,0,0,0,0,0,0,0,
247,187,235,255,238,223,255,223,254,253,95,182,183,127,127,145,0,36,17,33,95,93,126,189,214,246,221,118,251,255,254,223,111,255,255,253,253,245,123,239,254,183,128,0,0,0,0,0,0,0,
190,254,255,181,127,127,110,247,239,215,250,255,253,247,237,196,18,128,64,21,53,247,213,214,189,173,182,219,191,255,247,255,255,255,109,95,87,191,221,117,91,255,0,0,0,0,0,0,0,0,
239,239,107,255,219,183,255,254,251,125,111,222,215,255,255,160,64,20,5,73,111,93,127,123,235,251,107,182,247,255,255,246,251,109,255,245,253,237,119,175,238,239,128,0,0,0,0,0,0,0,
187,251,127,253,127,253,246,219,255,239,255,239,253,110,251,161,9,65,16,18,187,247,213,173,94,174,253,223,255,239,251,127,223,255,237,191,183,119,221,250,187,191,128,0,0,0,0,0,0,0,
239,125,119,183,173,95,127,255,189,251,123,119,118,255,223,200,0,4,65,68,93,125,127,119,245,219,171,117,223,255,191,223,123,191,191,237,237,221,119,95,239,251,128,0,0,0,0,0,0,0,
189,239,125,255,255,247,254,214,247,183,223,223,223,95,254,160,74,80,4,18,175,215,213,221,95,109,118,223,247,255,255,251,239,237,253,187,127,127,221,234,189,111,192,0,0,0,0,0,0,0,
239,253,111,254,171,190,219,255,255,253,253,247,250,187,255,194,0,2,128,73,90,253,126,238,234,223,175,187,127,255,253,254,253,191,247,239,219,213,118,189,239,254,192,0,0,0,0,0,0,0,
189,191,123,251,255,219,255,251,189,223,111,187,255,223,119,168,82,160,18,4,87,87,215,117,189,181,122,255,223,255,255,183,183,254,255,123,118,255,223,215,123,119,192,0,0,0,0,0,0,0,
247,245,63,223,182,247,254,222,247,247,254,255,111,107,255,193,0,8,128,162,174,254,237,190,215,123,223,174,251,251,254,255,255,119,221,238,223,173,186,251,221,223,192,0,0,0,0,0,0,0,
223,222,235,255,255,222,219,251,255,127,183,237,253,215,223,160,74,66,18,8,91,171,187,213,251,214,181,251,255,255,223,251,125,253,255,251,245,247,239,93,119,253,192,0,0,0,0,0,0,0,
250,254,63,254,238,247,255,191,187,221,255,125,247,250,255,201,0,16,64,34,183,126,238,239,86,189,238,191,191,255,255,239,247,223,183,111,95,93,123,239,222,247,192,0,0,0,0,0,0,64,
191,246,182,247,251,251,255,246,255,255,221,247,255,109,253,208,34,136,9,9,45,215,187,117,187,215,91,219,247,255,254,255,222,246,255,253,246,247,173,90,247,191,192,0,0,0,0,0,8,0,
239,190,61,255,223,189,182,255,221,183,127,222,223,246,191,194,8,34,64,32,191,122,253,190,237,122,246,254,255,223,255,255,127,191,253,223,189,222,255,247,93,255,64,0,0,0,0,0,0,0,
251,246,87,223,255,239,255,182,255,255,247,127,253,255,119,232,65,8,5,5,43,215,175,213,183,175,175,87,127,117,191,251,253,237,223,123,219,187,213,93,247,183,192,0,0,0,0,0,0,0,
191,124,61,253,253,250,251,255,219,123,191,250,223,187,191,193,8,32,144,65,61,122,245,127,109,117,117,253,215,255,255,191,247,191,119,254,254,254,255,247,94,255,192,0,0,0,0,0,0,0,
247,238,22,255,183,191,223,219,127,222,251,239,183,254,223,232,34,2,2,20,151,223,127,213,222,223,187,111,253,222,214,254,223,251,253,219,183,171,173,93,247,221,128,0,0,0,0,0,0,0,
254,252,159,247,255,253,126,255,253,255,238,255,254,239,235,228,128,168,32,128,93,106,213,126,245,234,214,255,247,251,255,247,254,223,111,255,253,254,251,239,125,255,192,0,0,0,0,0,128,0,
223,222,42,191,254,239,251,247,183,187,191,189,187,255,95,208,10,0,136,5,43,253,255,215,91,93,189,223,255,127,123,127,255,247,255,109,175,111,174,187,175,111,128,0,0,0,0,0,0,0,
251,244,15,255,187,254,239,222,255,255,251,247,223,253,245,234,32,68,2,160,30,215,85,122,239,182,235,254,255,239,223,222,239,189,187,255,251,245,251,221,251,253,128,0,0,0,0,0,0,0,
222,253,77,94,255,223,191,255,254,222,239,255,239,95,239,224,130,16,32,9,75,250,255,223,186,239,94,255,255,255,245,191,253,255,239,182,222,191,94,238,175,127,128,0,0,0,0,0,0,0,
255,188,7,255,255,251,254,251,219,251,253,190,253,255,186,234,8,129,4,160,46,175,85,106,215,90,247,187,221,246,255,239,191,235,126,255,247,213,247,119,251,239,128,0,0,0,0,0,0,0,
239,232,166,175,237,191,95,239,255,239,223,239,175,109,255,240,0,8,16,4,151,251,239,255,125,247,187,255,255,191,222,182,247,191,247,219,126,255,93,221,110,255,0,0,0,0,0,0,0,0,
189,252,11,251,255,253,247,127,119,127,253,255,247,251,253,233,37,65,1,80,21,93,91,85,214,173,110,255,247,255,255,251,254,251,127,127,219,181,247,183,251,187,128,0,0,0,0,0,0,0,
255,184,129,175,255,239,239,253,255,253,247,187,125,191,239,240,0,8,68,0,79,247,125,254,251,119,183,255,127,251,247,223,255,255,213,251,127,255,126,253,95,255,0,0,0,0,0,32,0,0,
247,248,37,251,187,127,187,255,255,183,191,255,239,237,191,245,37,33,16,169,26,187,171,87,86,221,127,251,253,255,126,250,255,237,127,223,237,85,215,175,246,239,0,0,0,0,64,0,0,0,
222,232,65,94,255,238,254,223,182,255,254,239,122,255,255,112,0,0,0,128,23,237,222,251,251,183,219,255,239,111,255,237,247,255,239,123,191,255,122,245,95,191,0,0,0,191,191,133,32,0,
255,248,20,235,254,255,247,253,255,255,255,255,255,182,255,244,148,137,74,84,157,126,181,174,174,237,127,255,191,255,237,254,191,191,189,254,251,187,223,95,246,255,0,0,43,106,239,248,0,8,
247,176,33,127,119,247,253,223,255,221,183,187,109,255,223,242,2,32,16,130,55,171,223,251,219,187,223,247,254,219,191,254,255,251,239,215,238,238,245,245,127,254,0,9,43,174,182,254,146,0,
190,248,8,109,223,191,222,255,109,255,254,239,247,91,253,244,36,2,133,84,186,253,106,174,246,222,255,127,255,255,255,183,95,255,123,127,127,251,191,95,215,251,0,66,174,251,255,255,212,128,
255,240,10,63,191,255,251,119,255,247,251,189,189,255,111,232,130,128,81,34,111,175,221,219,187,107,191,255,127,222,253,254,191,255,239,251,237,191,107,246,253,190,0,8,123,174,221,191,229,0,
215,208,34,171,239,237,255,255,247,125,42,171,118,173,255,224,20,10,132,170,245,117,118,190,223,254,251,255,251,251,239,247,91,255,253,190,255,237,253,93,183,254,0,2,221,251,183,247,248,192,
253,240,2,157,251,127,255,127,125,146,148,170,149,119,223,234,6,64,34,85,190,255,187,235,234,171,239,219,255,111,255,123,111,222,247,239,182,255,175,247,255,252,2,175,246,174,255,255,253,48,
215,176,1,87,173,255,253,223,210,0,34,73,117,191,127,208,78,5,73,74,213,170,214,183,127,255,127,255,183,253,251,221,191,255,253,123,255,181,245,93,111,254,2,189,191,251,219,126,254,16,
223,224,0,94,255,251,247,245,0,87,173,170,222,171,239,193,12,17,5,43,251,255,123,93,213,85,255,253,254,223,127,247,75,255,223,222,219,255,127,239,254,236,63,255,210,173,109,191,127,172,
183,240,2,43,182,191,255,186,86,221,123,255,183,237,127,212,45,4,82,75,86,170,221,238,255,255,255,111,223,247,238,187,183,127,251,119,254,219,213,117,191,253,255,255,255,215,87,239,223,212,
254,224,0,23,255,223,127,213,83,107,221,87,251,182,223,192,12,66,9,43,253,223,235,91,218,173,255,251,123,125,191,253,173,255,255,222,219,255,127,191,247,255,119,255,127,125,253,187,247,244,
175,192,0,69,91,127,253,106,169,21,119,253,110,213,251,82,92,17,36,175,86,245,94,237,127,255,109,191,239,222,247,87,215,191,237,183,255,187,237,234,223,223,255,253,255,255,111,239,191,252,
255,224,0,3,239,215,247,182,173,239,189,95,251,237,95,164,26,132,130,47,251,95,245,183,246,215,255,237,93,251,221,221,117,255,127,250,219,255,123,127,255,127,255,119,247,255,253,189,255,254,
173,192,8,20,255,123,253,85,254,189,223,246,222,182,239,80,152,18,42,175,221,234,175,109,127,253,255,255,255,111,111,127,170,191,254,223,254,219,239,171,125,255,255,255,253,247,255,247,251,255,
255,192,0,2,171,254,251,127,247,239,106,219,251,213,189,138,58,68,4,191,246,189,250,219,187,119,246,183,213,223,181,219,223,95,251,181,87,255,122,255,255,255,255,255,223,95,255,254,255,255,
223,64,0,9,127,219,253,191,212,187,255,255,111,173,255,100,180,18,170,191,253,215,95,189,255,223,223,253,127,117,126,254,233,239,255,254,254,221,223,173,247,255,255,191,255,251,251,123,239,127,
251,192,0,33,117,255,186,246,171,247,106,181,253,214,215,170,240,136,10,247,254,237,234,235,95,255,255,175,173,175,219,127,246,191,254,215,91,247,253,255,191,255,255,255,245,182,239,239,191,239,
255,192,0,0,190,254,254,158,173,109,255,255,183,107,123,105,244,4,165,93,255,95,127,189,254,255,250,250,247,250,237,191,189,171,255,251,239,127,183,86,255,255,255,255,255,223,127,255,255,255,
191,128,0,4,95,111,245,235,119,191,181,109,255,181,223,183,224,162,21,255,127,234,213,215,95,254,223,223,93,87,95,238,254,223,127,94,187,218,255,255,255,247,255,254,222,251,191,255,127,251,
247,132,144,1,23,191,254,169,173,106,255,254,170,215,117,239,212,8,149,171,223,127,190,251,239,219,246,234,255,237,107,255,247,107,255,247,87,127,238,173,255,255,238,255,255,238,239,255,251,223,
255,182,170,0,94,255,245,86,85,183,90,183,255,170,223,118,232,34,75,253,123,213,107,173,127,255,189,191,213,90,191,255,253,174,255,187,253,235,191,255,255,255,255,255,255,127,251,183,239,255,
223,169,85,160,39,223,191,85,85,90,255,250,170,215,245,221,164,136,46,175,223,251,254,247,175,254,235,234,191,109,221,221,255,247,255,237,86,190,247,251,191,255,255,183,255,251,191,255,191,255,
253,170,146,160,23,247,253,181,84,165,86,175,255,74,175,247,210,2,159,245,119,254,171,189,251,123,183,127,245,182,127,127,175,173,255,127,251,251,221,191,255,255,186,250,191,255,245,223,255,247,
255,73,41,92,75,191,253,109,171,85,91,246,170,174,254,173,105,84,90,191,173,251,254,239,111,238,223,170,175,95,255,255,235,250,255,234,173,95,127,255,255,254,255,223,213,221,255,127,255,223,
239,36,68,5,11,237,255,91,117,85,45,175,125,91,85,255,180,161,63,234,251,126,171,187,191,255,253,239,253,235,251,127,116,189,191,255,255,109,215,255,255,223,247,118,238,191,95,239,251,255,
254,145,1,82,167,191,253,174,223,108,165,122,223,95,175,106,213,42,85,127,86,223,254,238,251,245,182,189,127,55,254,223,254,182,239,237,85,191,125,237,255,123,221,223,187,235,255,187,255,255,
254,4,40,0,162,253,255,233,247,246,150,215,122,246,218,223,250,149,127,213,213,95,87,191,239,191,255,255,237,223,215,253,215,85,191,127,254,235,239,191,255,255,254,245,255,191,219,238,247,247,
220,161,2,74,29,239,255,253,26,221,171,111,239,223,107,125,173,73,237,190,72,165,250,251,127,238,171,106,187,95,234,255,250,214,247,251,107,189,187,255,255,255,107,191,93,245,127,255,223,125,
253,20,72,32,166,255,123,111,213,191,106,218,190,171,181,111,250,165,127,234,162,19,239,239,254,253,254,191,221,109,63,239,109,234,223,255,254,235,239,255,251,253,255,109,247,127,237,246,253,247,
248,64,17,2,21,221,255,253,250,235,219,239,249,117,85,85,191,43,213,122,17,68,245,127,255,219,183,234,171,191,171,125,250,181,255,237,183,190,191,255,255,247,251,255,187,223,191,127,255,239,
237,9,66,72,75,127,250,247,111,190,245,127,214,218,170,186,213,167,255,213,68,8,63,221,219,254,237,191,253,106,95,255,173,94,191,255,253,235,251,127,255,223,222,246,239,251,247,255,123,189,
248,66,8,0,37,239,255,47,223,235,190,219,114,165,73,79,123,94,255,232,128,34,189,127,255,87,191,234,218,223,111,182,246,181,255,255,111,126,223,255,255,255,247,187,253,111,127,183,223,239,
186,40,66,73,22,255,253,177,122,189,235,127,200,4,170,245,173,175,255,165,17,0,15,255,254,253,246,189,109,186,187,255,90,173,93,247,255,219,127,255,254,255,126,239,91,255,254,255,253,187,
241,2,40,0,138,183,253,93,79,247,95,239,82,85,85,26,234,255,170,168,64,20,174,239,247,214,187,85,170,223,79,85,214,175,239,255,251,255,239,239,251,255,235,189,255,189,255,254,255,238,
244,169,2,74,37,223,254,214,160,93,234,123,128,42,170,205,191,85,251,170,136,64,3,191,221,255,213,106,85,85,61,246,171,85,127,238,223,109,191,191,239,254,222,247,173,239,223,255,238,187,
226,4,168,16,18,117,253,82,223,86,181,174,169,118,213,102,213,110,174,164,34,4,171,255,127,90,173,170,165,90,175,218,217,175,191,235,255,255,255,255,255,251,187,190,255,123,127,255,255,239,
233,82,5,65,73,191,127,174,169,171,221,91,0,218,182,181,181,187,213,82,128,32,5,255,255,246,214,213,84,164,45,181,86,234,239,229,253,251,125,255,255,254,254,247,237,239,237,255,255,253,
212,73,80,8,4,174,254,213,182,180,107,92,149,165,21,85,219,110,190,136,41,9,34,247,246,218,187,106,137,1,47,237,106,95,253,242,95,223,247,255,255,215,219,255,255,253,191,255,255,87,
210,164,74,162,82,191,127,106,85,187,93,90,82,168,170,213,125,187,234,165,64,128,20,127,255,173,221,170,66,84,5,118,171,107,119,248,159,255,255,255,255,123,127,214,255,87,255,255,255,255,
202,85,32,8,129,87,191,170,149,86,182,218,69,146,2,170,234,222,189,16,21,42,65,63,251,118,235,72,40,0,82,171,90,189,255,234,71,255,223,255,251,239,235,255,183,253,109,255,255,253,
169,42,149,162,20,93,223,213,74,171,171,105,86,72,144,86,191,87,245,74,164,128,138,191,222,219,93,34,129,33,5,90,173,86,255,121,33,126,255,255,239,189,127,125,253,127,255,255,255,255,
213,82,170,17,33,43,255,237,81,42,213,170,169,85,4,21,87,122,218,65,18,90,32,31,251,234,170,144,4,4,8,170,171,175,187,250,148,251,255,255,255,247,239,175,223,239,255,255,255,251,
170,170,169,74,8,173,111,117,76,149,85,107,86,180,82,130,187,175,237,42,168,129,5,79,254,171,117,74,64,144,34,10,174,222,255,249,74,47,255,255,254,255,219,251,119,255,255,255,254,255,
170,173,85,84,165,47,191,250,162,64,170,173,42,234,168,65,93,221,116,137,2,40,144,87,239,90,170,32,18,0,129,69,83,119,191,238,33,95,255,255,255,221,254,255,223,127,255,255,255,255,
181,213,66,34,160,157,111,237,42,182,85,181,91,85,85,40,171,119,170,84,168,132,66,151,186,173,170,137,0,2,4,82,173,221,238,253,85,15,255,255,251,255,191,221,255,255,255,255,255,255,
214,169,40,149,45,87,250,255,170,72,148,170,170,218,165,146,79,221,180,138,164,18,40,35,253,246,212,64,72,144,0,129,85,119,223,253,84,163,255,255,255,183,247,119,123,255,255,255,255,255,
187,84,66,2,82,46,175,90,233,36,86,170,171,85,94,160,42,246,210,85,18,133,65,21,247,93,106,148,2,0,16,41,85,221,255,189,82,85,15,255,255,254,253,253,239,255,255,255,255,255,
214,161,8,84,137,171,253,239,173,170,169,165,41,171,91,84,151,219,105,42,169,81,16,137,221,247,168,1,32,8,130,68,170,119,109,253,107,84,163,255,253,191,223,175,255,255,255,255,255,127,
250,72,33,1,36,175,247,186,181,82,149,85,85,85,106,208,18,237,72,170,160,10,164,36,255,221,82,164,8,128,0,18,85,95,247,246,221,168,17,255,255,255,246,255,127,255,255,255,253,255,
170,130,0,18,74,87,191,109,74,170,170,41,5,42,170,181,11,181,162,85,66,5,66,74,254,254,169,8,128,16,8,9,42,186,223,221,234,66,132,127,237,255,127,247,255,255,191,255,255,255,
244,40,146,64,145,47,251,246,209,85,69,68,170,148,149,92,74,250,9,90,144,1,48,2,123,247,68,64,18,2,64,148,173,87,251,254,181,16,34,191,255,251,251,125,255,251,251,255,255,95,
210,128,0,10,4,19,109,187,42,170,40,18,64,66,37,110,10,214,164,171,1,64,202,169,63,221,41,18,64,64,0,2,171,191,111,183,208,68,136,191,255,255,221,223,255,239,255,191,182,255,
169,34,73,32,169,69,255,236,139,85,66,129,21,16,74,181,69,117,18,189,84,40,40,2,191,253,68,64,0,0,2,32,173,171,187,253,85,0,2,31,239,255,247,255,255,127,254,254,239,127,
212,8,0,2,0,16,181,90,170,168,144,40,64,132,1,47,2,212,65,82,33,2,178,80,159,238,169,9,18,36,32,4,86,221,238,239,80,36,40,167,255,255,125,239,253,254,215,251,89,183,
82,160,34,72,85,69,127,235,86,165,4,130,10,16,148,82,164,213,21,105,72,64,25,10,79,250,68,32,0,128,128,129,37,235,123,250,165,0,130,23,255,255,215,191,247,251,250,181,86,223,
164,4,128,1,0,16,42,181,42,144,80,16,32,0,0,149,65,84,69,149,37,42,68,80,151,253,41,0,128,0,2,18,85,119,182,238,168,72,8,137,255,245,255,255,255,238,173,237,82,191,
82,160,18,84,42,133,85,182,149,74,5,65,0,130,2,43,68,169,18,82,146,128,130,132,79,218,172,136,18,4,0,0,43,186,255,189,81,1,32,82,255,223,191,255,127,187,214,210,74,175,
136,18,0,0,0,32,46,237,90,161,80,8,8,16,80,10,145,84,74,169,74,84,41,41,39,245,87,0,0,32,8,17,10,223,170,250,164,32,5,5,127,254,255,127,237,253,119,41,37,117,
82,136,146,65,73,18,151,84,149,20,2,32,128,0,2,82,160,82,170,148,169,66,132,80,147,250,161,210,64,0,128,128,74,181,255,109,73,4,16,32,191,255,255,253,255,106,170,132,16,175,
68,66,0,8,0,64,21,186,85,66,168,130,2,2,8,9,69,42,37,69,85,40,82,138,11,234,136,160,4,128,0,4,37,126,170,245,160,64,129,20,95,247,253,247,213,253,172,80,139,174,
33,16,82,32,73,9,10,213,42,168,0,8,32,72,65,37,32,84,145,42,162,5,8,32,161,245,36,88,0,4,4,17,2,215,127,90,74,16,42,66,31,255,255,255,251,170,177,2,36,174,
138,69,0,130,0,32,69,81,85,5,85,32,0,0,4,1,82,34,74,146,168,168,66,41,11,234,146,45,32,0,16,64,41,93,213,235,32,132,128,144,143,255,255,95,110,234,200,72,22,157,
32,16,84,8,146,4,19,86,170,80,0,1,4,0,32,148,161,40,36,74,160,5,16,128,72,213,85,68,4,32,64,2,2,239,126,180,148,16,42,10,7,223,253,255,213,109,82,1,81,88,
21,66,2,160,0,144,133,86,149,37,36,132,0,9,2,2,148,149,18,34,66,34,68,84,34,234,191,170,144,129,0,8,145,85,171,107,65,2,129,80,67,255,255,253,183,170,136,144,77,58,
64,17,84,5,36,2,1,170,180,136,64,32,32,128,8,73,80,66,65,10,144,16,129,1,9,212,246,240,64,4,1,32,5,111,219,81,84,72,42,37,17,239,253,255,106,211,80,2,146,113,
42,72,145,16,0,136,36,181,85,81,18,0,0,0,32,2,69,40,8,73,64,132,18,68,68,169,113,187,0,1,189,65,32,186,237,234,128,2,145,84,160,255,255,251,170,174,2,40,80,228,
64,132,36,65,40,32,1,85,84,132,64,146,4,2,2,73,48,146,130,10,84,17,64,144,16,210,170,76,146,38,162,168,2,223,118,165,82,72,68,171,4,191,245,254,235,169,72,130,139,200,
18,34,128,8,66,1,8,174,170,81,8,0,32,32,8,0,165,36,32,73,32,4,10,1,5,82,89,85,64,0,0,20,144,118,219,85,8,18,18,172,144,255,255,255,169,84,2,21,35,130,
68,144,33,37,0,160,32,115,105,36,66,64,128,128,64,146,80,136,137,5,73,33,64,128,80,100,139,82,136,18,164,5,5,95,234,194,161,33,77,33,4,31,239,253,85,73,40,72,15,32,
16,69,20,73,84,4,130,29,170,137,16,8,0,2,2,1,74,162,0,36,160,8,20,18,5,65,33,66,64,132,72,2,64,183,189,89,4,10,40,148,81,95,255,255,170,160,65,32,172,9,
69,18,66,37,33,64,0,174,170,80,68,128,4,0,16,72,81,16,144,10,148,165,65,0,32,168,72,21,64,17,181,32,146,125,214,196,160,161,162,2,132,39,255,253,165,21,4,132,26,32,
16,169,41,170,172,17,8,30,213,5,16,18,32,8,65,2,148,170,4,130,80,0,16,4,138,69,5,66,144,69,90,132,64,159,251,82,8,13,72,84,80,143,255,255,84,128,34,17,112,132,
69,10,148,170,82,132,1,10,104,168,65,0,0,64,4,8,73,8,64,41,74,21,4,64,0,160,80,1,66,18,247,65,18,110,237,74,129,42,1,19,2,35,255,253,170,84,128,0,160,1,
16,169,86,17,0,64,64,85,165,18,8,32,129,1,0,65,37,82,36,0,160,128,144,17,42,84,2,74,0,69,11,104,0,59,250,164,32,104,36,73,80,9,255,254,164,128,16,133,68,36,
5,86,169,72,146,16,18,10,212,160,161,4,8,0,17,4,169,73,9,5,20,36,1,4,0,129,32,1,65,10,41,165,73,47,223,82,10,144,129,32,132,128,255,254,145,21,4,34,1,1,
81,106,34,2,4,66,64,43,170,138,4,0,0,0,4,16,37,40,160,64,169,9,68,0,36,84,8,149,8,33,22,248,0,63,250,136,129,66,42,132,64,37,127,251,84,64,64,8,136,16,
6,149,72,72,80,136,1,13,209,32,144,72,128,36,128,65,82,164,9,8,132,16,16,73,2,128,128,4,33,0,170,170,169,31,238,164,21,36,65,1,41,0,255,253,82,17,1,2,0,4,
34,64,2,1,4,0,16,38,170,138,1,0,17,0,16,4,36,146,160,32,80,133,64,0,40,168,17,42,128,68,2,186,0,87,187,82,0,9,10,32,128,21,63,245,73,234,16,72,0,145,
8,42,168,164,73,34,68,11,164,181,80,18,0,0,2,0,146,164,10,2,74,16,2,72,130,66,64,18,10,1,40,40,73,47,253,136,72,128,72,0,72,128,127,245,47,93,64,0,34,0,
69,0,2,9,16,8,1,34,211,85,170,64,64,8,64,170,74,145,64,136,36,5,8,0,8,144,2,72,32,132,0,129,0,63,238,165,0,41,41,66,32,18,191,237,84,3,164,129,0,10,
16,170,169,32,66,64,144,5,137,0,85,4,4,129,21,85,37,84,18,33,72,72,64,137,34,132,8,42,2,16,66,8,40,151,226,144,42,128,16,16,132,128,31,245,88,128,248,16,2,237,
66,1,4,10,8,34,4,146,164,164,42,208,128,16,85,34,170,161,64,0,18,2,2,0,0,161,32,144,144,64,8,32,130,63,72,133,0,18,162,128,80,9,95,218,162,42,21,2,11,183,
20,172,178,145,65,8,16,1,170,9,5,34,16,69,82,0,146,168,20,137,72,40,72,36,136,136,0,40,4,0,32,2,16,87,128,80,72,128,8,36,34,64,31,234,84,144,136,0,37,8,
1,18,144,4,16,128,64,149,69,82,80,136,2,2,128,72,74,162,129,32,4,2,0,128,2,64,2,145,17,2,0,128,68,93,85,5,2,32,161,0,136,10,159,234,210,213,82,72,4,65,
84,73,74,169,68,0,2,1,144,170,170,81,64,16,42,130,42,148,84,4,161,16,146,18,80,146,72,68,0,72,66,9,1,47,0,164,168,8,72,168,34,128,47,181,85,254,64,0,145,42,
0,133,64,68,1,34,8,74,170,151,213,68,9,69,85,84,146,201,0,144,20,10,0,0,4,128,2,160,20,0,8,0,40,54,36,17,0,130,34,2,20,37,7,213,43,251,186,128,10,170,
18,42,160,16,136,0,64,1,66,127,125,82,64,1,46,233,42,165,84,2,72,128,84,146,64,164,146,32,1,1,0,18,66,153,2,164,68,32,144,168,32,0,87,234,151,173,196,34,85,43,
64,16,137,2,32,8,2,73,148,44,182,148,0,42,251,244,149,84,170,208,34,21,1,33,18,64,2,136,72,144,0,0,8,36,16,137,16,8,4,0,21,74,135,85,75,181,49,0,36,174,
4,138,32,72,130,128,144,2,162,154,164,162,146,65,21,62,37,75,83,11,168,0,84,148,64,146,36,80,4,2,32,68,160,146,5,80,65,2,17,82,64,0,83,234,33,90,20,129,43,251,
16,32,128,2,0,0,2,72,148,74,88,20,0,20,45,80,149,145,173,192,80,149,35,85,18,64,130,130,17,32,1,0,4,68,66,37,4,0,64,0,20,170,163,169,72,171,74,32,133,223,
64,20,82,169,36,36,72,2,209,18,212,66,64,128,170,164,10,173,103,69,68,0,145,226,128,146,9,80,128,8,0,18,65,17,21,72,32,72,2,73,0,1,85,213,4,16,161,68,90,183,
2,73,0,4,0,1,1,40,138,64,34,145,0,37,41,16,43,69,125,106,168,18,70,169,84,64,34,42,34,68,136,0,16,66,13,34,130,0,0,16,21,85,89,180,162,132,10,17,11,91,
16,18,84,161,73,32,36,1,97,9,16,4,4,128,4,0,133,178,151,181,2,65,53,51,1,17,4,144,136,0,0,36,133,0,21,72,16,2,73,36,64,12,53,213,40,33,0,128,68,175,
64,73,64,20,0,8,128,164,148,32,64,2,64,0,64,32,11,84,219,84,168,8,151,245,80,68,18,74,85,5,0,128,32,73,29,37,68,72,0,1,9,106,116,234,130,4,37,73,0,17,
4,5,42,128,164,130,20,1,81,2,4,136,1,34,0,130,38,234,42,162,0,2,85,170,138,128,137,33,0,16,66,4,137,0,90,144,16,0,4,148,5,90,106,180,80,144,0,32,145,68,
16,36,160,42,0,32,1,84,164,8,16,2,144,0,4,0,7,122,161,89,82,72,10,84,65,34,36,132,0,65,16,16,0,72,58,165,66,33,32,0,1,119,210,213,4,0,21,4,64,0,
65,2,149,0,148,137,82,1,73,64,64,72,0,136,16,1,37,127,95,237,0,1,81,34,44,72,26,64,1,0,64,66,85,2,117,80,16,132,2,85,10,191,37,106,161,68,128,161,4,146,
4,41,80,84,32,16,8,32,160,1,1,1,34,0,64,8,11,93,245,118,160,4,173,17,74,128,107,32,68,1,9,0,0,64,253,74,68,0,72,0,0,145,87,186,20,16,10,18,80,0,
32,2,74,2,132,133,66,138,149,32,4,18,0,66,0,0,134,191,223,217,4,128,175,234,180,81,45,169,0,0,64,18,66,9,85,32,0,34,2,149,2,111,253,212,160,0,33,64,128,36,
9,72,160,16,65,32,40,0,164,4,0,4,129,16,0,66,43,87,107,84,0,16,171,223,253,32,28,170,16,8,36,128,16,129,122,170,146,128,168,72,32,189,182,181,9,0,8,146,36,128,
64,2,85,69,20,21,149,36,169,16,32,64,36,0,0,0,6,171,181,32,64,0,45,125,232,128,86,41,74,161,16,18,68,4,42,144,0,10,5,18,132,2,169,20,160,65,5,4,144,9,
42,72,168,2,66,170,112,129,68,64,129,10,128,64,2,8,173,84,168,130,9,2,19,219,116,105,21,5,106,168,66,64,2,37,109,85,82,32,81,68,0,0,4,170,68,4,18,80,64,32,
0,2,36,145,16,191,42,40,169,0,0,0,1,9,16,0,6,213,68,16,0,32,64,87,162,144,42,0,4,174,144,9,32,136,180,72,0,138,225,82,144,146,64,21,16,0,9,66,4,128,
85,40,152,4,138,83,200,130,82,8,4,42,164,0,0,2,95,85,34,128,128,0,2,40,144,100,138,192,0,39,1,32,10,2,22,165,36,35,82,138,66,0,18,170,130,32,42,8,160,4,
32,66,85,34,39,61,37,40,168,128,16,130,0,68,0,32,13,84,144,36,17,9,8,4,10,162,42,168,33,24,72,0,128,57,90,144,128,149,149,42,0,8,0,10,80,1,17,64,16,0,
69,17,42,9,8,234,80,2,68,34,64,20,129,16,64,130,79,170,68,128,0,32,0,145,81,116,10,146,148,193,0,132,41,72,21,42,2,90,252,94,128,32,146,74,132,136,36,128,162,2,
16,68,172,128,165,36,138,168,170,128,5,66,68,66,4,0,46,213,17,18,68,0,32,0,4,177,82,164,85,40,34,0,128,41,74,132,144,47,209,116,4,0,0,37,32,0,18,34,8,32,
73,34,84,34,21,82,32,66,36,16,16,85,1,8,144,9,31,180,132,64,0,132,132,165,82,252,10,146,9,64,0,18,20,81,21,81,1,2,34,216,0,4,148,138,146,36,149,136,161,0,
37,89,109,8,161,40,138,152,169,66,137,32,128,32,64,32,95,210,80,9,16,0,0,0,9,117,33,72,165,1,8,64,74,41,150,148,72,168,143,224,16,128,1,38,160,128,4,162,136,9,
74,172,148,128,10,2,34,82,36,8,32,133,9,4,36,130,31,106,5,32,0,32,17,18,85,250,20,84,40,4,0,1,28,146,10,162,2,2,85,65,0,17,36,3,74,18,80,84,65,64,
42,246,174,4,160,160,10,168,169,65,18,80,32,17,0,0,191,213,80,68,132,132,64,64,5,124,66,19,68,64,33,4,74,65,170,148,160,169,110,136,2,0,1,81,144,128,5,18,36,0,
92,237,34,80,21,9,85,98,20,40,132,74,129,64,42,36,61,178,5,16,16,0,2,9,85,252,8,128,16,0,4,17,53,146,75,72,21,18,180,0,8,68,148,10,197,42,144,68,128,170,
39,180,154,1,84,181,109,144,162,132,81,42,0,8,128,130,191,216,160,1,0,0,8,32,23,253,18,32,129,17,0,4,119,64,139,165,66,74,146,64,32,0,1,69,162,64,1,0,42,0,
81,74,73,0,43,110,182,68,25,34,0,137,66,162,20,16,127,101,20,164,34,36,64,133,74,252,0,132,4,0,32,73,127,4,111,168,41,55,104,4,129,18,80,16,200,149,84,17,0,81,
45,33,44,73,93,221,216,145,74,73,74,37,8,0,10,133,127,216,128,0,0,0,2,16,23,253,40,0,32,0,4,33,239,161,83,210,132,168,0,16,0,0,5,69,64,170,169,0,84,8,
74,148,181,0,11,117,36,4,20,16,16,146,162,136,160,32,255,101,42,145,16,128,8,65,37,254,2,16,128,65,17,10,247,4,175,106,81,34,146,64,8,68,160,18,196,109,85,74,161,68,
32,66,218,2,85,146,72,161,42,130,149,73,84,34,5,74,253,216,128,4,2,18,32,8,23,253,40,64,4,4,0,165,223,65,87,244,132,136,0,0,1,0,9,8,160,41,21,85,90,17,
74,151,116,0,0,0,17,8,10,72,30,170,0,0,40,1,247,213,42,80,72,0,1,34,149,254,0,0,0,0,74,18,254,80,167,180,81,34,68,9,32,17,32,69,81,42,0,170,171,164,
36,45,208,145,4,73,64,33,86,32,135,85,81,9,81,85,255,106,64,1,0,8,128,0,75,239,81,2,32,34,17,75,215,36,85,250,132,72,16,128,0,0,10,32,160,20,128,0,5,0,
181,187,106,0,32,0,4,132,43,66,5,170,132,85,64,3,183,213,42,132,32,128,18,74,23,190,132,8,2,0,136,33,126,65,39,117,41,2,130,34,4,132,160,149,100,150,128,0,5,72,
86,254,128,2,0,0,16,17,23,16,34,170,170,170,130,43,254,250,144,32,4,17,0,0,151,255,64,32,8,20,82,139,235,40,143,220,132,80,16,0,64,16,9,2,80,37,40,0,21,2,
191,210,64,32,2,18,66,132,171,164,18,162,85,85,8,15,187,170,164,129,32,64,36,148,75,255,164,0,64,66,128,37,126,146,166,246,82,5,65,36,0,2,68,80,177,10,213,0,148,0,
213,80,18,0,136,64,0,32,21,161,9,90,16,168,0,175,255,250,144,20,2,4,128,1,23,123,200,128,0,16,36,146,235,8,143,219,36,160,4,1,18,64,145,10,116,66,84,171,80,73,
90,170,64,8,0,1,41,10,167,212,68,165,2,166,68,29,221,110,202,128,144,16,9,36,79,223,208,34,2,74,128,9,237,36,141,253,72,21,32,64,0,20,4,65,56,41,82,84,170,2,
38,128,1,33,0,4,0,64,74,233,18,168,170,80,17,95,255,251,96,34,1,2,32,17,43,245,234,136,33,0,9,83,247,10,47,110,146,128,65,9,32,129,81,42,93,4,169,5,64,128,
145,41,36,0,18,32,34,21,37,244,72,85,0,149,0,63,247,173,189,8,36,32,130,68,151,95,245,32,136,80,32,5,186,197,27,187,72,85,8,0,4,8,4,1,58,162,10,82,146,21,
36,66,0,64,64,0,128,128,149,90,133,84,148,168,74,255,191,247,213,64,128,4,8,18,93,251,170,138,18,4,130,81,223,146,94,239,101,0,65,36,144,161,34,168,189,20,161,8,64,0,
73,16,146,9,0,130,8,36,75,253,36,149,66,160,0,251,255,94,253,84,8,128,65,73,87,127,237,100,161,32,0,9,234,201,63,191,180,169,16,0,2,4,16,5,90,161,4,2,20,149,
2,68,64,0,0,8,2,17,21,110,162,74,173,2,75,255,245,251,239,170,162,34,10,37,91,238,178,146,8,0,18,82,245,116,189,254,213,4,68,146,64,16,138,160,95,72,32,72,128,0,
84,18,18,144,4,0,72,132,75,255,169,36,144,72,1,254,223,95,186,213,21,17,81,182,238,255,213,84,162,9,0,33,239,186,255,255,234,161,0,0,20,128,32,21,117,82,129,0,84,168,
1,65,64,2,16,0,0,33,42,191,212,146,36,1,47,239,251,238,255,181,106,170,78,171,123,254,213,74,8,64,34,137,185,121,255,255,186,84,34,33,0,37,10,128,47,164,40,5,0,0,
84,20,8,136,0,130,74,136,75,238,233,8,129,72,7,255,239,127,255,250,171,85,85,253,175,255,170,81,64,0,0,34,254,219,255,123,234,129,8,132,36,128,64,42,189,209,2,32,37,80,
34,129,34,0,64,16,0,34,42,255,180,64,16,0,175,191,123,187,238,223,117,170,175,87,118,253,169,74,18,17,17,8,251,117,255,254,253,84,64,0,0,9,21,1,95,164,160,8,128,0,
72,84,64,34,0,0,146,8,149,187,122,18,0,2,30,255,254,255,191,235,187,90,245,254,221,247,85,40,128,128,4,69,237,187,255,223,213,73,36,146,82,64,64,170,119,233,8,130,21,64,
37,1,20,128,2,2,0,162,75,255,250,128,66,72,123,253,219,254,255,190,239,237,175,255,247,191,170,165,36,4,64,16,190,223,253,247,253,80,128,0,0,9,20,1,95,232,64,16,130,0,
144,84,64,8,136,16,40,8,150,247,253,36,0,1,111,255,254,239,254,255,189,110,255,247,189,253,82,168,0,32,1,37,123,107,239,189,182,138,36,137,37,32,1,85,255,245,2,2,41,64,
74,1,9,2,0,64,130,130,43,222,254,128,0,0,191,239,255,253,255,251,255,219,235,127,247,239,85,37,82,0,20,2,221,190,255,255,237,81,2,32,0,4,180,10,187,250,72,0,68,128,
33,84,32,32,0,4,8,40,150,255,254,82,36,149,247,255,246,255,247,255,109,125,191,255,253,253,170,144,0,132,128,16,255,219,255,110,250,164,144,2,72,145,66,191,239,189,32,146,18,0,
168,0,132,136,130,17,33,4,87,223,251,128,0,1,223,127,255,181,127,255,255,239,255,253,223,254,169,74,146,16,0,133,121,111,253,255,219,66,36,136,2,10,85,109,191,254,136,0,164,128,
69,82,16,2,16,64,8,82,150,255,255,84,128,38,247,247,253,255,254,247,189,189,223,239,253,251,85,32,0,0,36,0,110,186,247,251,253,84,128,33,32,82,219,191,253,253,165,84,66,160,
168,4,66,64,1,4,162,0,95,255,254,208,18,21,191,255,255,255,255,255,239,119,253,255,255,125,74,149,80,129,0,18,186,223,255,190,238,136,42,0,8,155,237,255,255,190,82,2,145,0,
82,161,8,18,68,16,8,170,173,247,251,85,32,171,127,251,253,186,239,251,127,255,191,255,255,246,170,72,4,16,0,64,105,117,254,247,187,82,128,137,34,110,223,127,255,235,169,84,10,176,
40,20,66,64,0,2,130,2,191,255,127,84,149,85,171,253,255,255,190,255,237,111,239,191,255,189,85,34,144,64,36,2,58,159,127,222,221,72,82,32,1,191,251,251,222,244,138,32,160,146,
42,129,16,9,33,36,40,169,111,223,245,187,107,166,255,187,191,238,251,245,183,255,191,253,254,245,90,144,2,2,0,8,154,123,255,255,110,162,128,4,170,251,255,255,251,222,80,136,5,72,
18,84,69,32,8,0,130,21,191,255,221,85,85,85,239,255,255,127,255,254,238,239,127,255,247,213,106,69,80,8,0,128,93,173,127,255,245,180,42,65,43,255,255,253,239,250,138,34,73,42,
25,34,16,5,64,148,17,86,251,127,237,170,213,75,251,253,255,255,238,251,255,223,223,255,255,85,85,16,2,64,66,1,13,95,191,221,222,210,129,21,173,223,191,223,125,237,80,136,4,146,
12,148,132,168,36,2,170,173,175,255,90,215,119,111,191,255,239,254,253,189,173,254,247,127,255,85,88,68,144,0,8,8,38,181,127,255,251,249,42,85,219,254,247,126,255,85,4,32,162,73,
22,81,34,83,82,169,42,187,255,255,237,89,85,150,253,254,255,247,255,254,253,127,95,255,253,82,181,16,4,18,0,32,15,94,255,255,254,170,81,86,255,255,255,255,191,118,162,0,9,4,
13,74,85,85,85,45,85,214,253,255,86,173,235,79,223,255,255,223,238,173,219,189,255,247,253,41,104,66,160,128,0,0,147,171,95,255,255,245,77,127,237,253,239,255,253,169,16,137,36,82,
31,106,171,173,218,171,111,125,191,255,218,183,109,189,127,223,223,127,255,254,238,251,91,127,233,5,101,8,2,0,65,2,3,181,191,255,127,221,86,223,191,223,123,111,191,180,68,32,1,4,
11,173,189,246,239,183,187,239,247,189,170,213,174,155,247,255,255,255,251,175,123,222,255,255,252,170,208,66,72,17,4,0,19,222,223,253,251,126,181,251,255,254,255,254,254,209,17,0,148,17,
14,246,239,127,245,221,222,253,191,255,245,171,107,55,223,127,253,255,255,214,222,245,250,223,242,19,138,40,0,0,0,32,64,235,127,247,255,247,223,239,251,223,109,171,245,164,0,4,32,68,
23,187,187,215,91,247,119,255,238,254,75,95,221,189,255,255,191,255,246,255,247,95,239,254,200,138,161,2,72,132,0,130,10,250,175,255,215,221,127,191,191,247,126,255,250,160,164,144,137,1,
7,239,255,255,255,127,251,190,255,245,172,221,107,63,109,253,255,251,255,234,189,247,255,255,210,86,20,72,0,16,18,16,0,255,87,255,253,255,246,255,247,219,175,223,188,148,0,0,64,16,
19,125,253,253,87,255,191,251,223,221,91,93,239,109,191,255,223,255,255,247,239,127,127,191,40,41,65,1,32,1,109,239,73,125,183,253,183,87,223,255,223,255,126,251,254,34,73,2,20,68,
15,239,183,239,254,238,253,239,247,254,181,123,221,94,239,219,251,255,191,255,95,215,255,254,162,148,20,80,2,191,255,127,244,190,219,255,251,255,255,239,123,251,215,191,242,136,0,36,128,1,
21,191,255,190,191,251,255,255,255,181,95,189,119,114,191,175,127,127,255,251,247,127,254,255,72,105,1,4,75,119,109,254,255,255,87,255,214,189,183,191,239,255,239,221,221,33,84,8,33,8,
23,254,254,255,254,255,239,255,223,251,174,215,93,106,254,245,223,255,251,255,93,254,255,249,37,68,84,17,127,253,255,255,255,255,90,250,251,247,255,254,219,255,190,255,233,20,0,0,132,32,
45,191,221,238,191,123,254,247,255,252,189,255,247,75,95,251,255,255,255,255,254,255,247,254,146,169,0,139,221,223,183,247,191,255,109,255,223,191,255,107,127,191,255,182,210,129,36,130,16,2,
23,247,127,251,253,255,191,255,246,219,94,245,237,38,222,188,247,255,255,255,119,253,255,244,73,2,85,127,127,247,255,190,247,247,86,255,255,238,215,255,219,251,239,255,84,32,0,16,0,64,
46,223,247,95,127,119,251,255,127,245,251,254,245,93,235,223,125,253,255,127,255,255,255,235,84,169,43,255,246,191,182,255,255,191,171,95,254,255,255,246,191,255,253,218,161,9,16,64,130,8,
53,254,253,247,223,191,127,251,253,93,119,255,85,45,247,175,175,247,255,255,255,255,255,212,146,85,127,187,255,251,255,221,239,255,106,255,255,187,189,255,237,223,247,247,84,64,66,2,16,2,
87,255,183,110,253,247,255,255,245,254,251,189,126,251,186,255,127,255,255,253,255,255,246,170,170,151,238,254,219,191,118,247,254,255,173,191,251,255,255,190,191,255,238,221,34,18,0,8,0,144,
125,189,253,191,111,93,119,247,254,175,215,254,213,117,187,46,190,191,127,255,255,255,187,85,74,254,255,247,255,237,219,94,183,253,182,255,255,255,251,251,250,239,255,245,72,128,41,32,68,0,
215,255,110,219,254,238,254,255,213,215,255,249,255,107,221,125,247,234,239,255,255,253,218,170,95,223,255,255,218,191,239,245,255,255,213,171,254,247,191,127,191,255,255,244,132,84,128,0,0,68,
46,253,246,222,191,107,191,247,111,251,159,111,245,175,87,245,255,127,255,255,255,111,106,181,251,125,247,123,119,246,186,191,174,239,171,247,255,255,255,239,247,255,223,234,41,0,0,2,17,1,
91,254,221,191,253,181,253,255,187,125,127,243,254,214,245,239,255,191,191,255,255,251,246,255,255,247,223,223,223,223,255,219,251,254,221,93,255,191,255,126,255,191,255,169,64,68,146,72,64,16,
111,187,247,246,255,222,223,254,223,237,191,247,63,191,254,239,127,255,255,251,255,255,95,223,239,255,254,254,255,125,86,190,175,255,215,235,255,251,255,247,255,255,253,82,21,16,0,0,0,4,
93,253,109,95,250,181,251,237,174,253,203,215,222,221,191,95,223,91,251,255,255,239,254,255,127,191,251,251,255,254,239,239,253,127,213,108,251,127,223,253,191,239,255,72,128,66,72,0,4,145,
247,247,251,254,239,219,255,254,255,187,235,222,171,239,255,235,125,190,223,255,255,125,251,247,254,255,111,255,255,247,186,189,223,255,238,213,95,255,255,215,251,255,244,164,85,8,1,36,64,4,
93,91,182,251,254,239,119,181,123,245,122,221,247,183,239,87,253,255,255,255,255,255,239,127,255,255,255,255,255,255,255,255,246,255,181,182,191,255,255,255,127,191,90,17,0,65,32,0,0,66,
174,253,255,191,255,93,255,239,223,235,157,93,191,125,190,185,251,174,191,255,191,191,255,239,251,247,191,255,255,255,255,247,255,223,238,218,171,255,255,255,223,255,161,68,85,18,8,0,18,16,
85,183,170,255,235,235,222,219,119,238,239,118,214,214,234,254,183,191,255,255,254,247,125,255,223,191,255,255,251,126,246,223,127,127,235,106,221,255,255,255,255,250,148,17,0,64,65,34,64,74,
187,123,255,255,255,119,123,235,215,174,231,187,110,219,85,223,87,87,247,255,255,255,255,253,254,255,255,247,191,239,191,253,255,255,117,170,182,223,255,255,247,235,33,4,85,9,0,0,1,0,
101,239,239,247,125,223,191,95,117,237,251,126,189,229,253,167,223,234,255,254,255,255,239,191,247,255,255,222,234,187,247,119,247,255,238,181,219,111,255,255,255,84,72,64,0,64,8,0,4,80,
154,189,191,223,247,254,255,247,251,253,238,175,190,122,247,90,237,123,219,255,255,239,253,255,127,255,253,255,255,238,221,255,222,251,250,86,181,187,255,255,245,73,18,18,170,18,33,17,16,4,
197,239,255,127,255,187,182,190,252,250,238,239,245,189,46,189,191,93,255,255,253,255,127,237,237,255,239,253,254,255,255,223,255,223,240,43,110,238,170,181,90,164,160,64,0,128,128,0,1,80,
37,123,255,255,222,254,253,253,223,109,91,242,250,175,175,235,127,207,250,251,191,255,255,127,255,253,191,111,247,219,119,255,125,127,248,53,245,189,218,74,74,18,18,9,42,40,4,0,36,64,
5,222,255,255,255,239,247,251,239,63,93,253,235,215,181,126,187,247,255,255,247,255,239,247,255,191,255,250,191,255,254,255,255,255,240,30,174,246,173,85,37,73,72,0,0,130,64,72,129,0,
37,55,191,254,251,255,250,247,181,215,219,190,181,110,126,221,254,250,250,255,255,251,253,191,127,255,255,223,238,238,223,247,239,239,248,43,219,187,116,144,144,164,128,165,82,8,17,0,8,8,
2,165,91,255,255,253,174,191,190,237,247,239,186,189,255,189,247,250,255,127,255,239,255,253,251,255,255,255,251,255,251,189,255,191,252,54,237,237,170,74,85,18,42,0,0,65,0,2,37,32,
4,82,111,255,235,255,191,94,235,246,191,123,191,251,247,235,254,254,125,253,191,255,254,223,255,253,246,245,175,111,254,255,123,251,220,27,91,117,106,161,8,169,0,18,169,8,72,16,0,0,
16,4,47,239,119,247,107,222,188,251,109,255,175,247,191,253,119,251,127,255,247,255,119,255,239,191,223,191,253,251,123,247,255,254,252,23,182,214,180,138,82,4,168,128,4,33,1,0,168,2,
0,128,46,191,190,222,255,223,215,231,175,175,241,107,221,190,255,239,175,127,255,125,253,187,255,255,255,254,223,95,239,253,223,251,254,29,223,107,82,65,36,169,2,21,80,132,16,34,2,72,
0,17,23,255,255,125,249,183,123,175,83,255,254,175,127,247,191,247,181,255,255,247,223,255,255,255,253,219,247,245,127,223,127,127,252,22,181,181,169,40,146,68,80,64,2,0,66,8,160,0,
4,0,93,254,239,255,247,181,215,223,189,127,127,223,254,239,215,173,223,190,251,255,255,255,253,255,247,255,253,127,251,251,253,255,223,15,218,214,169,5,9,41,4,4,168,36,8,130,8,0,
16,128,31,223,119,90,214,255,255,61,253,125,223,235,251,251,239,125,126,255,239,191,239,111,119,237,255,183,111,221,191,110,247,254,254,10,183,90,210,80,80,66,81,32,0,129,32,40,65,36,
0,9,95,187,238,239,110,250,254,247,255,159,255,122,183,222,245,245,255,255,191,254,255,255,255,191,255,239,253,239,255,251,191,251,251,15,218,170,164,138,133,16,0,10,170,16,4,130,0,1,
0,0,29,223,191,251,189,255,94,191,231,253,111,223,223,127,254,215,55,223,255,247,253,255,221,255,223,189,255,182,237,174,251,255,239,10,182,213,81,32,80,138,170,64,0,69,80,40,148,148,
2,32,95,247,253,247,219,239,186,246,245,223,254,247,223,245,245,239,223,255,255,191,223,254,247,246,255,255,183,255,255,251,239,255,255,15,107,86,132,10,10,64,0,41,82,0,2,128,0,0,
16,0,62,175,251,221,247,255,237,239,246,175,127,125,239,191,239,247,222,254,255,255,255,251,254,191,247,247,254,251,254,190,191,255,191,5,186,170,169,65,65,42,169,2,8,170,73,42,74,164,
0,4,159,255,247,254,247,187,245,251,221,235,253,219,187,235,221,127,91,255,254,255,255,239,219,251,254,254,223,239,251,239,255,125,250,142,213,85,66,20,42,0,4,80,162,1,36,0,128,1,
0,128,63,191,127,255,175,255,237,126,251,253,190,251,253,255,127,181,127,255,247,255,250,191,127,223,111,239,255,191,191,251,123,239,251,11,109,170,168,129,0,170,161,4,8,72,146,170,42,168,
2,0,189,223,239,191,95,223,183,123,222,255,239,110,255,127,255,253,235,255,223,254,165,125,237,251,255,253,247,255,247,95,223,255,237,205,181,85,34,40,170,0,72,82,161,21,32,0,128,2,
16,8,63,255,222,254,235,251,239,159,191,190,251,223,255,253,119,190,255,127,255,170,148,27,255,127,187,191,190,255,127,251,127,255,251,75,85,84,136,2,0,170,18,0,8,68,138,170,36,136,
0,1,117,255,239,253,250,255,191,239,251,251,239,251,223,171,253,239,255,253,84,81,66,143,91,238,254,246,255,255,239,255,255,255,245,173,170,170,162,144,170,1,68,170,165,40,80,0,0,0,
0,32,246,175,235,255,253,255,217,242,254,247,254,239,255,255,239,255,170,165,82,138,40,47,254,255,239,255,251,251,189,183,247,127,249,22,214,164,144,4,1,72,17,17,17,69,5,81,16,32,
17,2,251,255,255,251,222,126,182,191,223,247,255,191,255,235,250,164,84,72,136,32,129,5,219,187,255,111,255,255,255,254,255,255,250,75,90,149,68,161,84,18,136,74,74,32,160,0,2,0,
0,1,237,247,250,247,183,158,255,251,119,223,253,239,111,255,85,82,130,146,34,136,16,39,126,239,123,250,223,223,255,251,255,255,249,37,101,82,34,8,2,128,82,161,64,148,8,132,64,8,
0,9,254,251,254,191,255,235,215,95,253,255,247,245,255,81,74,72,40,0,128,34,68,129,247,127,238,223,253,253,219,223,255,223,252,139,170,74,144,34,168,85,4,21,42,2,130,16,8,128,
18,35,253,253,183,174,181,215,223,239,255,191,223,255,245,76,33,2,130,74,20,128,0,2,253,218,255,255,247,183,255,255,221,255,218,37,85,82,73,0,18,0,169,168,132,168,32,1,32,34,
0,7,239,190,255,239,255,123,245,125,126,223,255,105,9,34,136,32,16,0,64,4,144,17,215,239,187,182,223,255,247,255,127,255,253,66,169,73,36,74,164,170,20,69,40,0,8,132,4,128,
0,15,253,251,253,247,181,246,255,255,191,239,126,170,168,144,34,8,66,82,2,32,2,64,254,187,239,255,254,254,223,119,255,255,254,147,85,42,144,128,18,68,163,40,66,146,66,32,128,8,
16,155,119,246,238,239,255,239,94,245,253,250,250,208,146,4,128,130,0,0,32,0,0,0,111,238,254,239,119,219,255,255,255,255,14,1,84,164,68,41,73,41,72,133,16,0,8,8,42,66,
0,47,253,239,255,218,215,223,245,255,247,127,202,138,64,160,4,16,18,1,4,137,36,0,123,187,187,253,255,255,251,253,247,191,87,169,82,146,146,4,164,146,37,40,137,36,129,34,128,16,
2,63,255,223,125,223,255,255,254,189,255,222,85,32,20,4,32,0,128,72,0,0,0,18,46,254,255,183,182,255,255,223,255,254,146,65,74,73,36,82,18,169,72,132,64,0,36,64,18,64,
0,255,247,255,219,191,255,95,239,223,251,245,80,10,129,16,128,130,1,0,64,32,0,128,31,215,238,254,255,238,239,255,255,254,123,4,169,42,73,9,85,36,36,82,37,85,17,8,64,4,
32,255,253,255,255,255,223,127,255,239,223,168,138,160,72,64,8,16,16,2,9,2,72,0,31,125,191,219,255,255,255,255,191,255,113,209,36,145,32,68,146,66,146,8,128,0,64,34,0,0,
2,219,247,255,223,127,254,255,189,251,250,146,80,21,34,4,33,0,0,16,0,0,0,0,23,254,251,255,237,191,127,127,255,254,117,66,170,72,149,17,36,148,73,82,20,68,20,128,2,32,
3,255,255,127,254,255,253,253,255,254,234,74,138,202,136,65,0,4,132,64,0,16,1,8,141,239,223,119,127,255,251,253,255,255,1,144,146,165,64,128,65,2,32,0,65,17,64,0,32,2,
7,251,239,223,245,255,247,255,247,127,85,82,82,36,34,16,0,64,16,0,144,128,64,0,7,123,123,255,254,247,255,239,255,255,84,202,84,72,42,85,20,84,138,169,4,0,1,9,4,8,
19,191,254,255,255,255,254,255,255,233,82,170,170,169,72,132,73,0,0,2,0,2,4,0,3,255,223,221,219,255,191,255,255,239,66,81,73,37,65,2,73,33,32,0,32,74,16,32,32,128,
7,254,255,254,237,253,255,255,111,86,170,170,164,146,34,16,0,4,1,8,2,0,0,32,1,221,251,255,255,255,239,191,247,127,168,164,165,82,20,84,144,138,21,82,9,0,130,4,128,0,
15,255,110,255,255,127,251,87,250,170,149,16,73,8,128,64,0,0,132,0,0,16,16,2,18,255,94,183,118,221,255,255,255,251,146,82,146,9,65,8,69,36,160,0,128,32,0,32,18,32,
31,239,255,223,223,191,255,251,234,169,72,165,16,64,18,1,16,144,16,32,32,0,128,0,0,239,247,255,255,255,191,255,255,245,192,73,85,82,40,162,146,81,10,136,34,9,36,137,0,4,
15,251,189,255,255,239,255,253,42,68,34,0,68,18,64,4,2,0,0,0,128,130,1,16,0,253,219,253,237,219,253,191,223,226,169,36,145,41,4,17,36,132,64,34,8,64,0,32,72,128,
27,255,255,191,125,245,239,234,164,146,136,148,1,0,1,32,0,1,0,2,2,8,0,0,128,119,253,183,191,127,255,253,255,234,208,34,74,132,169,74,18,41,18,0,128,4,34,132,0,16,
62,223,239,255,255,255,254,148,145,36,34,1,32,68,16,0,64,4,2,64,8,0,4,0,8,95,183,255,247,239,239,255,255,206,226,18,169,82,34,33,73,2,64,68,2,64,136,33,34,2,
31,251,190,255,247,191,122,82,4,65,8,64,4,0,128,4,8,64,32,0,0,0,16,34,1,59,255,221,109,125,127,255,255,222,80,165,36,73,72,148,68,168,9,16,32,18,2,136,0,64,
63,255,255,255,255,255,165,33,81,16,64,8,0,16,4,144,1,0,0,18,32,32,64,0,0,47,118,239,255,223,254,255,255,198,106,8,170,164,18,66,146,5,32,0,132,128,41,0,8,0,
55,247,223,119,251,253,80,136,4,4,1,1,33,0,0,0,144,9,9,0,0,130,0,128,32,31,223,187,87,255,251,255,255,233,48,66,146,82,161,20,73,80,4,66,0,8,132,34,65,8,
29,255,255,223,255,164,138,34,160,145,16,32,4,2,64,0,0,32,32,32,130,0,0,4,4,77,122,239,253,219,255,255,255,210,82,42,169,36,74,73,36,4,145,8,18,64,18,136,0,0,
79,255,191,255,254,170,32,136,8,0,0,0,0,16,9,34,34,0,128,130,8,8,4,16,0,15,239,218,223,255,191,255,255,232,152,130,165,73,16,146,81,80,0,0,128,9,42,0,16,32,
39,239,254,124,234,145,10,33,2,32,4,4,128,64,0,0,0,138,8,8,0,1,32,64,145,6,253,127,254,254,255,255,255,242,26,85,84,164,165,36,136,5,72,146,18,64,9,1,2,2,
159,255,126,24,41,36,64,132,32,4,144,128,16,0,128,9,36,32,34,32,65,32,1,0,0,39,175,214,255,255,255,255,255,233,42,138,170,82,72,73,37,80,2,0,64,2,84,164,32,64,
86,255,156,90,84,129,18,0,0,128,0,0,1,2,18,64,1,4,128,130,20,4,8,4,4,11,253,191,239,247,255,255,255,244,4,74,146,137,34,146,16,0,32,73,4,144,42,0,1,0,
255,255,12,8,34,40,64,34,72,16,0,16,64,8,0,9,40,80,40,16,128,16,128,16,144,130,223,251,189,191,255,255,126,250,149,37,85,82,137,36,165,74,4,4,16,1,21,0,136,8,
239,255,5,40,136,130,8,136,0,1,33,2,8,32,33,32,69,5,66,138,34,64,36,128,0,37,255,126,247,255,255,253,255,248,2,146,170,72,82,17,0,32,128,144,130,72,84,146,0,32,
253,254,72,138,34,16,34,0,2,64,4,32,2,1,4,10,144,168,148,64,136,4,128,36,138,2,237,239,255,255,255,247,231,253,82,75,85,37,72,164,85,0,18,2,40,1,82,0,1,2,
255,254,5,36,144,65,0,1,32,8,0,4,160,148,72,160,74,146,33,42,69,80,18,0,32,146,255,255,187,119,111,191,131,252,9,4,169,85,37,18,0,74,0,32,1,4,80,136,68,0,
223,221,16,8,4,8,16,72,4,2,81,32,10,33,18,77,170,73,74,146,40,5,0,165,2,9,191,255,255,255,253,255,185,250,164,66,170,162,64,164,170,0,64,138,164,32,138,33,0,16,
251,122,10,165,73,33,2,0,0,128,4,10,161,74,73,42,169,36,32,73,69,80,170,8,80,68,247,187,254,237,223,255,107,253,16,144,170,149,42,18,1,36,8,0,0,128,160,0,16,66,
255,170,68,80,0,0,64,17,32,41,16,161,20,169,109,181,36,146,150,164,169,37,16,162,10,42,191,255,255,191,123,255,184,230,164,68,85,80,146,168,168,0,0,16,146,10,74,148,1,0,
234,84,19,21,84,68,8,128,4,0,66,20,170,170,164,164,149,85,73,18,84,148,165,17,65,65,111,223,237,251,255,255,82,242,146,129,42,170,168,66,4,146,66,66,8,33,32,1,32,0,
169,16,20,84,0,0,32,4,17,18,17,69,37,74,171,91,106,170,170,170,138,170,72,164,84,149,255,126,255,183,255,255,128,165,72,16,85,85,5,41,80,0,8,0,65,0,128,64,4,8,
18,90,146,17,18,34,2,32,128,64,136,40,170,170,255,255,255,255,255,255,117,82,165,18,146,74,191,255,253,255,255,255,212,82,82,132,21,82,168,132,5,72,0,1,20,74,85,9,16,64,
65,36,42,168,64,129,64,2,4,4,37,70,170,85,255,157,255,127,255,255,255,253,90,213,74,171,251,239,175,255,191,255,210,33,36,16,133,84,165,41,80,1,32,16,1,1,0,0,64,2,
20,48,10,21,8,8,17,16,33,33,17,42,165,91,255,187,255,255,255,255,255,255,255,255,255,255,239,189,255,254,255,255,228,148,66,64,18,170,146,132,4,68,1,2,72,84,68,16,1,8,
2,146,84,148,36,69,68,0,132,8,164,170,149,127,239,127,111,255,255,255,253,239,255,222,255,255,127,255,254,239,247,255,240,1,20,4,69,85,73,41,81,0,8,0,2,82,16,66,4,32,
72,8,36,81,2,2,0,74,16,165,21,84,170,255,255,253,255,255,255,255,239,255,254,251,246,223,254,255,255,255,255,255,250,168,33,17,1,84,170,66,0,16,128,32,32,153,66,0,32,0,
10,32,74,154,72,42,18,0,2,18,85,85,93,215,254,255,223,127,255,247,191,223,219,255,255,253,255,253,255,251,93,239,250,4,136,0,20,182,164,148,84,130,1,4,132,72,8,0,0,0,
40,16,32,16,2,5,0,136,169,73,85,82,254,223,127,246,255,255,255,255,255,253,127,223,123,255,247,239,239,223,255,191,253,81,34,72,1,85,82,65,0,8,36,0,1,53,32,146,1,18,
16,68,84,75,32,148,74,34,4,170,170,175,189,127,157,123,126,255,255,255,255,239,254,247,223,183,191,127,126,255,247,255,246,136,16,2,64,85,85,42,73,32,0,16,0,144,0,0,72,0,
82,32,65,20,10,38,1,8,170,170,165,93,255,86,247,253,171,255,255,238,239,189,215,253,253,254,253,251,255,255,255,255,250,164,128,32,20,171,85,72,128,1,0,64,72,84,132,72,0,64,
72,82,84,8,128,138,0,165,85,85,86,254,247,221,111,253,255,255,255,255,255,247,254,223,183,175,255,223,223,255,126,239,213,82,74,8,64,21,170,146,41,8,17,2,2,161,32,1,0,4,
80,72,64,42,129,21,36,18,170,74,191,255,255,230,255,123,127,255,255,255,222,254,219,251,255,251,239,254,251,183,223,255,234,73,0,65,2,78,213,72,128,64,64,0,1,84,1,0,17,0,
160,64,82,10,72,74,128,10,82,171,255,247,215,251,191,251,175,255,255,251,251,219,255,254,221,111,189,239,255,255,255,223,85,36,32,0,8,2,186,164,36,2,0,8,36,32,136,16,64,16,
64,168,72,9,154,146,0,149,74,191,251,251,190,252,189,246,255,255,255,255,127,255,219,183,247,255,255,125,182,254,253,255,180,145,2,68,0,42,213,82,137,16,4,32,130,136,0,2,0,64,
160,161,32,140,192,149,144,5,91,239,247,253,223,189,191,191,223,255,255,255,239,110,255,253,191,187,239,247,255,239,247,255,169,36,8,0,129,2,218,144,64,0,16,128,5,66,66,32,9,2,
130,144,82,9,40,74,128,74,255,255,239,251,126,251,215,245,255,255,255,255,253,255,222,219,237,255,123,127,239,127,223,255,162,0,64,0,16,2,182,202,148,137,0,0,17,32,8,0,32,0,
};

//set pixel value at x and y coordinate
void tcmp441_setPixel(int x, int y, int on/*1 or 0*/){
    //index in screen array
    int index = (y * 50) + ((50 * x)/400);
    int bitsIntoByte = 7 - (x % 8);

    //turns the nth bit on or off
    screen[index] ^= (-on ^ screen[index]) & (1 << bitsIntoByte); //jeremy ruten stack overflow
}

//clears the screen by setting all elements to 0
void tcmp441_clearScreen(){
    memset(screen, 0, 15000 * sizeof(uint8_t));
}

//inserts a grid of pixels into the image - NOTE - coordinate is @ uper left
//the grid of pixels is in the form of 0s and 1s, a 0 representing pixel off and 1 representing pixel on
void tcmp441_insertPixelGrid(int width, int height, uint8_t grid[height][width], int xcoord, int ycoord){
    for(int y = 0; y < height; y++){
        for(int x = 0; x < width; x++){
            if(grid[y][x] == 1){
                tcmp441_setPixel(x + xcoord, y + ycoord, 1);//pixel on
            }
            else{
                tcmp441_setPixel(x + xcoord, y + ycoord, 0);//pixel off
            }
        }
    }
}

//writes a single character at (x,y) with a given scale
//a scale of 1 produces an 8x8 pixel character
//each character in font8x8_basic.h is written in 8 lines of 8 hex bytes where each bit of the 8 bytes represents a single pixel
void tcmp441_writeCharacterAtLocation(char character, int xcoord, int ycoord, uint8_t scale){
    //convert the 8 hex bytes from font8x8_basic.h into an 8x8 pixel array
    uint8_t grid[8][8];
    char *bitmap = font8x8_basic[character];//selects array of 8 hex bytes from font8x8_basic.h based on character code

    //loop over each row in the character
    for(int i = 0; i < 8; i++){
        //loop over each bit in the character
        for(int j = 0; j < 8; j++){
            //select the jth bit from the hex byte to add to the 8x8 pixel array
            grid[i][j] = (bitmap[i] & (1 << j)) >> j;
        }
    }

    //scale the character by the scale multiplier
    if(scale != 1){
        //loop over a scaled version of the character
        for(int y = 0; y < 8 * scale; y++){
            for(int x = 0; x < 8 * scale; x++){
                tcmp441_setPixel(xcoord + x, ycoord + y, grid[y/scale][x/scale]);
            }
        }

        return;
    }

    tcmp441_insertPixelGrid(8, 8, grid, xcoord, ycoord);
}

//writes a string of ascii characters at an x,y coordinate with a given scale
void tcmp441_writeStringAtLocation(char *str, int x, int y, int scale){
    //loop over each character in the string
    for(int i = 0; i < strlen(str); i++){
        //if the character won't be written off the edge of the screen
        if(x + (8 * i * scale) + 8*scale < 400){
            //write the character that the location after the previous characters
            tcmp441_writeCharacterAtLocation(str[i], x + (8*i * scale), y, scale);
        }
    }
}

//sets a block of 8x8 pixels on or off. x < 50 & y < 38
void tcmp441_setBlock(int x, int y, int on)
{
    for(int i = 0; i < 8; i++)
    {
        if(on == 1){
            screen[x + (50 * i) + (50 * y * 8)] = 255;
        }else{
            screen[x + (50 * i) + (50 * y * 8)] = 0;
        }
        
    }
}

//inserts a grid of pixels, but much larger
void tcmp441_insertBigPixelGrid(int width, int height, uint8_t grid[height][width], int xcoord, int ycoord)
{
    for(int y = 0; y < height; y++)
    {
        for(int x = 0; x <width; x++)
        {
            if(grid[y][x] == 1)
            {
                tcmp441_setBlock(x, y, 1);
            }
            else
            {
                tcmp441_setBlock(x, y, 0);
            }
        }
    }
}

//write a qr code to the screen. Can handle up to 52 characters
void tcmp441_writeQRcode(char *str)
{
    QRcode *qrcode;
    qrcode = QRcode_encodeString8bit(str, 0, 0);
    uint8_t width = qrcode->width;

    /*
    for(int i = 0; i < 17; i++)
    {
        char stuff[50];

        sprintf(stuff, "%x", (*qrcode).data[i]);
        writeStringAtLocation(stuff, 0, i * 8 * 2, 2);
    }
    */

    uint8_t grid[width][width];

    for(int i = 0; i < width * width; i++)
    {
        int x = i % width;
        int y = i / width;

        grid[x][y] = (*qrcode).data[i] & 1;
    }
    
    tcmp441_insertBigPixelGrid(width, width, grid, 10, 10);

}

//update display
uint8_t tx[6] = {0x30, 0x01, 0x01, 0x00, 0x00, 0x00};
uint8_t rx[256] = {0};
void tcmp441_updateDisplay()
{   
    nrf_gpio_pin_clear(nTC_EN);

    // Need to wait 6.5 ms per datasheet (section 5.5)
    // Up that a little to be safe and who cares about a couple ms
    nrf_delay_ms(10);

    memset(rx, 0, 256 * sizeof(uint8_t));
    tx[0] = 0x30;
    tx[1] = 0x01;
    tx[2] = 0x01;
    tx[3] = 0x00;
    tx[4] = 0x00;
    tx[5] = 0x00;

    uint8_t pic[255];

    // Setup spi comm header
    pic[0] = 0x20;
    pic[1] = 0x01;
    pic[2] = 0x00;

    // How many bytes we want to send.
    pic[3] = 16;

    // Pic header
    pic[4] = 0x33; // 4.41"
    pic[5] = 0x01; // 400px
    pic[6] = 0x90;
    pic[7] = 0x01; // 300px
    pic[8] = 0x2c;
    pic[9] = 0x01; // 1 bit
    // pic[10] = 0x02; // image pixel data format type 2
    pic[10] = 0x00; // image pixel data format type 0
    pic[11] = 0; // reserved
    pic[12] = 0;
    pic[13] = 0;
    pic[14] = 0;
    pic[15] = 0;
    pic[16] = 0;
    pic[17] = 0;
    pic[18] = 0;
    pic[19] = 0;

    // Send header
    nrf_drv_spi_transfer(&_spi, pic, 20, NULL, 0);
    wait_for_not_busy();//THIS LINE FRICKEN MESSES EVERYTHING UP

    nrf_drv_spi_transfer(&_spi, NULL, 0, rx, 2);
    wait_for_not_busy();

    uint8_t i;

    // display an image
    pic[3] = 250;
    for (i=0; i<60; i++) {
        memcpy(pic+4, screen+(i*250), 250); // screen logo
        //memset(pic+4, 0xFF, 250); // Black screen
        //memset(pic+4, 0x00, 250); // White screen

        nrf_drv_spi_transfer(&_spi, pic, 254, NULL, 0);
        wait_for_not_busy();
        nrf_drv_spi_transfer(&_spi, NULL, 0, rx, 2);
        wait_for_not_busy();
    }

    // Actually render the image
    tx[0] = 0x24;
    tx[1] = 0x01;
    tx[2] = 0x00;

    nrf_drv_spi_transfer(&_spi, tx, 3, NULL, 0);
    wait_for_not_busy();
    nrf_drv_spi_transfer(&_spi, NULL, 0, rx, 2);
    wait_for_not_busy();


    nrf_gpio_pin_set(nTC_EN);
}

//set up led and spi
void tcmp441_init(int led0, int led1, int led2, int ntc_en, int ntc_busy, int ntc_cs)
{
    //define
    LED0 = led0;
    LED1 = led1;
    LED2 = led2;

    nTC_EN = ntc_en;
    nTC_BUSY = ntc_busy;
    nTC_CS = ntc_cs;

    tcmp441_clearScreen();

    led_init(LED0);
    led_off(LED0);
    led_init(LED1);
    led_off(LED1);
    led_init(LED2);
    led_off(LED2);

    // Setup input for busy
    nrf_gpio_cfg_input(nTC_BUSY, NRF_GPIO_PIN_NOPULL);

    // Assert ENABLE
    nrf_gpio_cfg_output(nTC_EN);
    

    // Setup SPI
    spi_init();

    //uint8_t tx[6] = {0x30, 0x01, 0x01, 0x00, 0x00, 0x00};
    //uint8_t rx[256] = {0};

    // Get device id to check that we can comm with this display
    // Send the command
    nrf_drv_spi_transfer(&_spi, tx, 4, NULL, 0);

    // Wait until no longer busy
    wait_for_not_busy();

    // Receive response
    nrf_drv_spi_transfer(&_spi, NULL, 0, rx, 28);

    // Not sure, sometimes busy signal, sometimes not?
    // Just wait for a hot sec for now
    nrf_delay_ms(1);
}







